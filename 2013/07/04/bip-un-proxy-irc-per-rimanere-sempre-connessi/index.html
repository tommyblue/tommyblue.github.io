<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    <title>
      
      Bip: un proxy IRC per rimanere sempre connessi - TommyBlue.it
      
		</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <link rel="stylesheet" type="text/css" href="/assets/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/icons.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    
    <link href="https://fonts.googleapis.com/css?family=Bree+Serif|Lato:100,100i,300,300i,400,400i,700,700i|Source+Code+Pro:300,400,500,700" rel="stylesheet">
    

    
    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
    <script type="text/javascript" src="/assets/bigfoot/dist/bigfoot.js"></script>
    <link rel="stylesheet" type="text/css" href="/assets/bigfoot/dist/bigfoot-number.css" />
    <script type="text/javascript">
        $.bigfoot();
    </script>
    
    
    <link rel="stylesheet" href="/css/custom.css">
    
</head>

    <body class="post-template">
        <header class="main-header">
	<div class="main-header-content">
		<h1 class="blog-title">
			<a href="/">
				
           TommyBlue.it
				
			</a>
		</h1>
		<h2 class="blog-description"></h2>
	</div>

	<div class="nav">
    
		
	</div>
</header>

        
<main class="content" role="main">
  <article class="post">
    <header class="post-header">
      
      <h2 class="post-title">Bip: un proxy IRC per rimanere sempre connessi</h2>
      <section class="post-meta">
        <time class="post-date">July 04, 2013</time>
      </section>
    </header>
    <section class="post-content">
      

<p><a href="http://bip.milkypond.org/">Bip</a> è un proxy IRC, ovvero un demone che rimane collegato ai server IRC anche quando tu non lo sei. Quando poi ti ricolleghi a Bip ritrovi lo storico dei messaggi dalla tua ultima connessione.</p>

<h2 id="configurare-il-demone">Configurare il demone</h2>

<p>Il demone può essere lanciato su un sever con un semplice:</p>

<p><code>~$ bip</code></p>

<p>Immediatamente il processo entra in background e rimane attivo finchè non lo si uccide. La configurazione è nel file <em>~/.bip/bip.conf</em>, di seguito un esempio:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-prettyprint lang-bash" data-lang="prettyprint lang-bash">ip = &#34;0.0.0.0&#34;; # Allow connections from all IPs
port = 12345;
client_side_ssl = true; # only SSL connections, unses ~/.bip/bip.pem
log_level = 0;
backlog = false;		# enable backlog
backlog_lines = 0;		# number of lines in backlog, 0 means no limit
backlog_always = false;		# backlog even lines already backlogged
blreset_on_talk = false;
backlog_msg_only = true;

network {
	name = &#34;FreeNode&#34;;
	server { host = &#34;irc.freenode.net&#34;; port = 6667; };
	server { host = &#34;irc.eu.freenode.net&#34;; port = 6667; };
	server { host = &#34;irc.us.freenode.net&#34;; port = 6667; };
	server { host = &#34;irc.au.freenode.net&#34;; port = 6667; };
};

network {
	name = &#34;GimpNet&#34;;
	server { host = &#34;irc.gimp.org&#34;; port=6667; };
	server { host = &#34;irc.us.gimp.org&#34;; port=6667; };
	server { host = &#34;irc.au.gimp.org&#34;; port=6667; };
};

user {
	name = &#34;tommyblue&#34;;
	password = &#34;4249b078bbe9292a2e1be97fd0fff08a5c1fcee1&#34;; # &#34;s3cr3t&#34; password, generated by bipmkpw
	ssl_check_mode = &#34;none&#34;;
	default_nick = &#34;tommyblue&#34;;
	default_user = &#34;tommyblue&#34;;
	default_realname = &#34;Tommaso Visconti&#34;;

	connection {
		name = &#34;freenode&#34;;
		network = &#34;FreeNode&#34;;
		password = &#34;:tommyblue MyS3cr3tPassword&#34;;
		on_connect_send = &#34;PRIVMSG NickServ :IDENTIFY MyS3cr3tPassword&#34;;
		channel { name = &#34;#ruby&#34;; };
		channel { name = &#34;#ruby-it&#34;; };
		channel { name = &#34;#ruby-lang&#34;; };
		channel { name = &#34;#rubyonrails&#34;; };
		channel { name = &#34;#fedora&#34;; };
	};
	connection {
		name = &#34;gimpnet&#34;;
		network = &#34;GimpNet&#34;;
		channel { name = &#34;#gnome-it&#34;; };
		channel { name = &#34;#gnome-love&#34;; };
		channel { name = &#34;#gnome-hackers&#34;; };
		channel { name = &#34;#fedora-desktop&#34;; };
	};
};</code></pre></div>
<p>Con questa configurazione Bip si connetterà  a FreeNode e GimpNet ai vari canali indicati. Nel caso di FreeNode utilizzerà  un utente registrato (per farlo, <a href="http://freenode.net/faq.shtml#nicksetup">leggete qui</a>).
La password dell&rsquo;utente <em>tommyblue</em> è stata generata utilizzando il comando <em>bipmkpw</em>, si tratta di un doppio MD5 (della parola &ldquo;s3cr3t&rdquo;, in questo esempio).</p>

<p>Poichè ho scelto di connettermi a Bip utilizzando SSL, ho impostato l&rsquo;opzione <em>client_site_ssl = true;</em>. Affinchè funzioni bisogna avere un certificato SSL valido oppure bisogna crearselo, con:</p>

<p><code>openssl req -new -x509 -days 365 -nodes -out bip.pem -keyout bip.pem
openssl x509 -subject -dates -fingerprint -noout -in bip.pem</code></p>

<p>Il primo comando genera il certificato, il secondo toglie la password. Il file <em>bip.pem</em> va messo in <em>~/.bip/bip.pem</em> a meno di non indicarlo nel file di configurazione.</p>

<h2 id="connettersi-a-bip-con-xchat">Connettersi a Bip con XChat</h2>

<p>A questo punto dobbiamo aprire <a href="http://xchat.org/">XChat</a> (ma funziona con qualsiasi client IRC) e aggiungere le due reti configurate (FreeNode e GimpNet), avendo cura di utilizzare una connessione SSL, accettare un certificato SSL autofirmato, impostare l&rsquo;indirizzo del server con il formato
<code>IP-DEL-SERVER/PORTA</code>
ovvero, supponendo che l&rsquo;IP del nostro server sia <em>1.2.3.4</em>:
<code>1.2.3.4/12345</code></p>

<p>Come ultima cosa, la password del server sarà  composta da
<code>username:password:nome_della_rete</code>
nel caso di FreeNode:
<code>tommyblue:s3cr3t:freenode</code></p>

<p>Non è comodissimo inserire tutta la password dato che mentre si digita si vedono solo asterischi, quindi se qualcosa non funziona, per prima cosa mi assicurerei che la password sia corretta. In ogni caso i log di Bip nel server aiutano.</p>

<p>Ci vediamo online :)</p>

    </section>
    <footer class="post-footer">
      <section class="tags post-meta">
        Tagged
        <a href="http://tommyblue.it/tags/informatica/">informatica</a>
          <a href="http://tommyblue.it/tags/how-to/">how-to</a>
          <a href="http://tommyblue.it/tags/bip/">bip</a>
          <a href="http://tommyblue.it/tags/xchat/">xchat</a>
          <a href="http://tommyblue.it/tags/linux/">linux</a>
          <a href="http://tommyblue.it/tags/memoria-ausiliaria/">memoria ausiliaria</a>
          
      </section>
    </footer>
  </article>
</main>

        <footer class="site-footer">
  <section class="rss"><a class="subscribe-button icon-feed" href="/index.xml"></a></section>
  
  
  <section class="copyright">&copy; 2018 TommyBlue.it</section>
  <section class="poweredby"><a href="http://thedarkroast.com/arabica">Arabica</a> theme by Sean Lunsford. Published with <a href="https://gohugo.io">Hugo</a>.</section>
</footer>



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-9338649-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-9338649-1');
</script>

    </body>
</html>
